# 什么是重构

大家好，欢迎参加重构课程的第一训。自从 2003 年《重构》一书中文版面世以来，已经过去了 15 年，“重构”这个词已经进入寻常开发者间互相交流的词汇表中。但是——也许是因为“重构”这个翻译确实十分表义，就是优化软件的内部结构——也有许多人用着重构的名号，做着实际上与重构相去甚远的事。所以，在课程开始之前，我想先请各位读者想一想，**你理解的重构是什么？你想从这个课程中学到的是什么？**

请把你的答案写到下面的框里。鼓励你把它提交到助教的后台，或者在群里提出来与大家一起讨论。

——————————————————————
| 请在这里写下你的思考 |
——————————————————————

![](images/separator-australia-queensland.jpg)

优化代码的结构，当然是件善莫大焉的好事，但因为优化使得 bug 频频出现，也算是重构吗？是不是所有优化调整代码结构的行为，都叫做重构呢？测试都没有写、写不全，就开始调整代码的结构，算是重构吗？这些问题，读者的回答是什么呢？

在[《重构》](https://book.douban.com/subject/30468597/)这本书里，作者 Martin Fowler 对重构的定义是：

> **所谓重构（refactoring）是这样一个过程：在不改变代码外在行为的前提下，对代码做出修改，以改进程序的内部结构。重构是一种经千锤百炼形成的有条不紊的程序整理方法，可以最大限度地减少整理过程中引入错误的几率。本质上说，重构就是在代码写好之后改进它的设计。**

如果觉得这段话太长，那么我帮你画一下重点：

- 不改变代码外在行为
- 改进程序的内部结构
- 重构的手法经过千锤百炼

大家看到，“改进程序的内部结构”是重构的一个重要特征，但可不是全部哦。另外的两件事情，也很重要哦：“不改变代码外在行为”，而且“重构的手法经过千锤百炼”。这两件事情，是不是也在大家对重构的理解里呢？

那么问题来了，我们如何保证重构不会改变代码的外在行为呢？重构的手法究竟是怎么个讲究法呢？带着这些问题，我们来开始本训的第一个实操。
